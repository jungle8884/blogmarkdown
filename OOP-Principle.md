---
title: 设计模式之六大原则
categories:
  - 设计模式
tags:
  - 设计模式之六大原则
date: 2020-02-29 20:16:36
author: Jungle
---
1. 开闭原则[Open Closed Principle，OCP]: 对扩展开放, 对修改关闭.
	- 当应用的需求改变时, 在不修改源代码的前提下, 可以扩展模块的功能, 使其满足新的需求.
	- 遵守开闭原则的软件，其稳定性高和延续性强，从而易于扩展和维护.
	- 可以通过“抽象约束、封装变化”来实现开闭原则, 即通过接口或者抽象类为软件实体定义一个相对稳定的抽象层，而将相同的可变因素封装在相同的具体实现类中.

2. 里氏替换原则[Liskov Substitution Principle, LSP]: 继承必须确保超类所拥有的性质在子类中仍然成立.
	- 任何基类可以出现的地方，子类一定可以出现 (父类引用指向子类对象)
	- 当一个父类引用指向一个子类对象的时候,这里就有里氏替换原则.
	- 里氏代换原则是对开闭原则的补充
	- 子类可以扩展父类的功能，但不能改变父类原有的功能

3. 依赖倒置原则[Dependence Inversion Principle]: 高层模块不应该依赖低层模块，两者都应该依赖其抽象[抽象工厂模式]；抽象不应该依赖细节，细节应该依赖抽象.
	- 要面向接口编程，不要面向实现编程
	- 抽象层则相对稳定，因此以抽象为基础搭建起来的架构要比以细节为基础搭建起来的架构要稳定得多
	- 抽象指的是接口或者抽象类，而细节是指具体的实现类
	- 抽象就是一种制定的标准
	- 依赖倒置原则的目的是通过要面向接口的编程来降低类间的耦合性:
		1. 每个类尽量提供接口或抽象类，或者两者都具备
		2. 变量的声明类型尽量是接口或者是抽象类
		3. 任何类都不应该从具体类派生
		4. 使用继承时尽量遵循里氏替换原则

4. 接口隔离原则[Interface Segregation Principle]: 尽量将臃肿庞大的接口拆分成更小的和更具体的接口，让接口中只包含客户感兴趣的方法.
	- 要为各个类建立它们需要的专用接口，而不要试图去建立一个很庞大的接口供所有依赖它的类去调用.
	- 提高系统的灵活性和可维护性。
	- 提高了系统的内聚性，减少了对外交互，降低了系统的耦合性
	- 使用多个专门的接口还能够体现对象的层次，因为可以通过接口的继承，实现对总接口的定义
	- 在具体应用接口隔离原则时，应该根据以下几个规则来衡量
		1. 接口尽量小，但是要有限度。 一个接口只服务于一个子模块或业务逻辑.
		2. 为依赖接口的类定制服务。 只提供调用者需要的方法，屏蔽不需要的方法.
		3. 提高内聚，减少对外交互。 使接口用最少的方法去完成最多的事情.
5. 迪米特法则，又称最少知识原则[Demeter Principle]: 只与你的直接朋友交谈，不跟“陌生人”说话.
	- 迪米特法则，又称最少知识原则
	- 如果两个软件实体无须直接通信，那么就不应当发生直接的相互调用，可以通过第三方转发该调用。
	- 目的是降低类之间的耦合度，提高模块的相对独立性.


6. 合成/聚合复用原则[Composite/Aggregate Reuse Principle，CARP]: 在软件复用时，要尽量先使用组合或者聚合等关联关系来实现，其次才考虑使用继承关系来实现.
	- 又叫组合/聚合复用原则（Composition/Aggregate Reuse Principle，CARP）。
	- 聚合: 一种弱的"拥有"关系, 体现的是A对象可以包含B对象, 但B对象不是A对象的一部分
	- 合成: 一种强的"拥有"关系, 体现了严格的部分和整体的关系, 部分和整体的生命周期一样
	- 优点: 优先使用对象的合成/聚合将有助于你保持每个类被封装, 并被集中在单个任务上. 这样类和类继承层次会保持较小规模, 并且不太可能增长为不可控制的庞然大物.

